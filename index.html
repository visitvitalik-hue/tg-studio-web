<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0014" />
  <title>CADRHUB ‚Ä¢ Bangkok Cyberpunk 2177</title>

  <style>
    :root{
      --bg0:#07000f;
      --bg1:#0b0014;
      --bg2:#12001f;
      --neonA:#00fff0;
      --neonB:#ff2dff;
      --neonC:#ffcc00;
      --ink:#e9e1ff;
      --mut:#b8a9ff;
      --glass: rgba(255,255,255,.06);
      --glass2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.12);
      --shadow: 0 18px 60px rgba(0,0,0,.6);
      --radius: 22px;
      --radius2: 14px;
    }

    body{
      margin:0;
      color:var(--ink);
      background: radial-gradient(1200px 800px at 10% 10%, #21003a 0%, transparent 55%),
                  radial-gradient(1000px 700px at 90% 20%, #001b2f 0%, transparent 55%),
                  radial-gradient(900px 700px at 50% 110%, #2a001c 0%, transparent 55%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100svh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      padding:
        calc(env(safe-area-inset-top) + 14px)
        calc(env(safe-area-inset-right) + 14px)
        calc(env(safe-area-inset-bottom) + 14px)
        calc(env(safe-area-inset-left) + 14px);
      overflow-x:hidden;
    }

    /* scanlines + noise */
    .fx-scanlines::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background: repeating-linear-gradient(to bottom,
          rgba(255,255,255,.04),
          rgba(255,255,255,.04) 1px,
          rgba(0,0,0,0) 3px,
          rgba(0,0,0,0) 6px
      );
      mix-blend-mode: overlay;
      opacity:.28;
      z-index: 2;
    }
    .fx-noise::after{
      content:"";
      position:fixed; inset:-40px;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      opacity:.10;
      z-index: 3;
      mix-blend-mode: overlay;
      animation: noiseMove 6s steps(10) infinite;
    }
    @keyframes noiseMove{
      0%{ transform:translate3d(0,0,0) }
      20%{ transform:translate3d(-3%,2%,0) }
      40%{ transform:translate3d(2%,-2%,0) }
      60%{ transform:translate3d(-2%,-1%,0) }
      80%{ transform:translate3d(1%,2%,0) }
      100%{ transform:translate3d(0,0,0) }
    }

    .wrap{ position:relative; z-index:5; max-width: 920px; margin:0 auto; }

    /* top bar */
    .top{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom: 12px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      padding: 10px 14px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border-radius: 999px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      cursor:pointer;
      user-select:none;
    }
    .brand:active{ transform: translateY(1px); }
    .logo{
      width: 38px; height: 38px;
      border-radius: 14px;
      background:
        radial-gradient(10px 10px at 30% 30%, rgba(255,255,255,.9), transparent 55%),
        conic-gradient(from 210deg, var(--neonA), var(--neonB), var(--neonC), var(--neonA));
      box-shadow:
        0 0 22px rgba(0,255,240,.35),
        0 0 36px rgba(255,45,255,.18);
      position:relative;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute; inset:-40%;
      background: linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent);
      transform: rotate(20deg);
      animation: shine 2.8s infinite;
      opacity:.65;
    }
    @keyframes shine{
      0%{ transform: translateX(-60%) rotate(20deg) }
      55%{ transform: translateX(60%) rotate(20deg) }
      100%{ transform: translateX(60%) rotate(20deg) }
    }
    .brandTitle{ display:flex; flex-direction:column; gap:2px; line-height:1.0; }
    .brandTitle b{ font-size: 14px; letter-spacing:.12em; text-transform: uppercase; }
    .brandTitle span{ font-size:12px; color: var(--mut); opacity:.9; }

    .chipRow{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
    .chip{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      border-radius: 999px;
      padding: 9px 12px;
      font-size: 12px;
      color: var(--ink);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      backdrop-filter: blur(10px);
      cursor:pointer;
      user-select:none;
      display:flex; align-items:center; gap:8px;
    }
    .chip:active{ transform: translateY(1px); }
    .dot{
      width:8px; height:8px; border-radius: 99px;
      background: var(--neonA);
      box-shadow: 0 0 14px rgba(0,255,240,.55);
    }
    .dot.pink{ background: var(--neonB); box-shadow: 0 0 14px rgba(255,45,255,.55); }
    .dot.gold{ background: var(--neonC); box-shadow: 0 0 14px rgba(255,204,0,.55); }

    /* ticker */
    .ticker{
      position:relative;
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
      border-radius: 999px;
      overflow:hidden;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      margin: 12px 0 14px;
    }
    .tickerInner{
      display:flex;
      white-space:nowrap;
      gap: 44px;
      padding: 10px 14px;
      align-items:center;
    }
    .tickerBadge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border:1px solid rgba(0,255,240,.28);
      background: rgba(0,255,240,.08);
      border-radius: 999px;
      font-size: 12px;
      letter-spacing:.08em;
      text-transform: uppercase;
      color: var(--neonA);
      box-shadow: 0 0 22px rgba(0,255,240,.16);
      flex: 0 0 auto;
    }
    .marquee{
      display:flex; gap: 44px;
      animation: marquee 18s linear infinite;
      will-change: transform;
    }
    @keyframes marquee{
      0%{ transform: translateX(0) }
      100%{ transform: translateX(-50%) }
    }
    .tickerText{
      color: rgba(233,225,255,.92);
      font-size: 13px;
      text-shadow: 0 0 12px rgba(255,45,255,.12);
    }
    .tickerHint{ color: rgba(184,169,255,.75); font-size: 12px; margin-left: 8px; }

    /* hero */
    .hero{
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03));
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(600px 220px at 10% 10%, rgba(0,255,240,.18), transparent 60%),
        radial-gradient(600px 220px at 90% 10%, rgba(255,45,255,.16), transparent 60%),
        radial-gradient(500px 300px at 50% 110%, rgba(255,204,0,.11), transparent 60%);
      z-index:0;
    }
    .heroIn{
      position:relative; z-index:1;
      display:flex; gap: 14px; align-items:stretch; flex-wrap: wrap;
    }
    .preview{
      flex: 1 1 320px;
      min-height: 190px;
      border-radius: var(--radius);
      border:1px dashed rgba(255,255,255,.22);
      background: rgba(0,0,0,.22);
      position:relative;
      overflow:hidden;
    }
    .previewCanvas{
      position:absolute; inset:0;
      background:
        radial-gradient(140px 140px at 20% 40%, rgba(0,255,240,.18), transparent 55%),
        radial-gradient(160px 160px at 80% 30%, rgba(255,45,255,.14), transparent 55%),
        radial-gradient(200px 200px at 50% 110%, rgba(255,204,0,.12), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    }
    .previewOverlay{
      position:absolute; inset:0;
      display:flex; align-items:flex-end;
      padding: 12px; gap:10px;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.16);
      font-size: 12px;
      color: rgba(233,225,255,.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }

    .heroRight{ flex: 1 1 280px; display:flex; flex-direction:column; gap: 10px; }
    .h1{ margin:0; font-size: 18px; letter-spacing:.06em; text-transform: uppercase; }
    .sub{ margin:0; font-size: 13px; color: rgba(184,169,255,.92); line-height: 1.35; }
    .ctaRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 6px; }
    .btn{
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      border-radius: 16px;
      padding: 12px 12px;
      color: var(--ink);
      font-weight: 700;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
      backdrop-filter: blur(12px);
      transition: transform .06s ease;
    }
    .btn:active{ transform: translateY(1px); }
    .btnPrimary{
      border-color: rgba(0,255,240,.30);
      background: linear-gradient(180deg, rgba(0,255,240,.14), rgba(255,45,255,.10));
      box-shadow: 0 0 24px rgba(0,255,240,.10), 0 18px 60px rgba(0,0,0,.45);
    }
    .btnGhost{ background: rgba(0,0,0,.25); }
    .kbd{
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: rgba(233,225,255,.90);
    }

    /* accordion */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin-top: 12px;
    }
    details.card{
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      overflow:hidden;
    }
    details.card summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      user-select:none;
      outline:none;
    }
    details.card summary::-webkit-details-marker{ display:none; }
    .sumLeft{ display:flex; align-items:center; gap:12px; min-width: 0; }
    .icon{
      width: 42px; height: 42px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(14px 14px at 28% 30%, rgba(255,255,255,.8), transparent 55%),
        linear-gradient(135deg, rgba(0,255,240,.14), rgba(255,45,255,.10));
      box-shadow: 0 0 26px rgba(255,45,255,.10);
      flex: 0 0 auto;
      position:relative;
      overflow:hidden;
    }
    .icon::after{
      content:"";
      position:absolute; inset:-50%;
      background: linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent);
      transform: rotate(20deg);
      opacity:.40;
      animation: shine 3.6s infinite;
    }
    .sumText{ min-width:0; display:flex; flex-direction:column; gap:2px; }
    .sumText b{ font-size: 14px; letter-spacing:.06em; text-transform: uppercase; }
    .sumText span{
      font-size: 12px;
      color: rgba(184,169,255,.90);
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 70vw;
    }
    .sumRight{ display:flex; align-items:center; gap:10px; flex: 0 0 auto; color: rgba(233,225,255,.80); font-size: 12px; }
    .chev{
      width: 10px; height: 10px;
      border-right: 2px solid rgba(233,225,255,.65);
      border-bottom: 2px solid rgba(233,225,255,.65);
      transform: rotate(45deg);
      transition: transform .12s ease;
    }
    details[open] .chev{ transform: rotate(225deg); }

    .cardBody{
      border-top: 1px solid rgba(255,255,255,.10);
      padding: 12px 12px 14px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }
    @media (min-width: 760px){
      .cardBody{ grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    .item{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      border-radius: var(--radius2);
      padding: 12px;
      cursor:pointer;
      user-select:none;
      position:relative;
      overflow:hidden;
      min-height: 104px;
      transition: transform .08s ease;
    }
    .item:active{ transform: translateY(1px); }
    .item::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(140px 80px at 10% 15%, rgba(0,255,240,.10), transparent 60%),
        radial-gradient(140px 80px at 90% 20%, rgba(255,45,255,.09), transparent 60%);
      opacity:.95; z-index:0;
    }
    .itemIn{ position:relative; z-index:1; display:flex; flex-direction:column; gap: 6px; }
    .item b{ font-size: 13px; letter-spacing:.03em; text-transform: uppercase; }
    .item span{ font-size: 12px; color: rgba(184,169,255,.90); line-height: 1.25; }
    .tag{
      align-self:flex-start;
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(233,225,255,.9);
    }

    /* MODAL */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:flex-end;
      justify-content:center;
      background: rgba(0,0,0,.62);
      z-index: 50;
      padding:
        calc(env(safe-area-inset-top) + 12px)
        calc(env(safe-area-inset-right) + 12px)
        calc(env(safe-area-inset-bottom) + 12px)
        calc(env(safe-area-inset-left) + 12px);
    }
    .modal.show{ display:flex; }

    .sheet{
      width: min(920px, 100%);
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(16,0,28,.90), rgba(0,0,0,.70));
      box-shadow: 0 26px 80px rgba(0,0,0,.80);
      backdrop-filter: blur(18px);
      overflow:hidden;
      transform: translateY(10px);
      animation: pop .12s ease forwards;
    }
    @keyframes pop{ to{ transform: translateY(0); } }

    .sheetTop{
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .sheetTop b{
      font-size: 13px;
      letter-spacing:.06em;
      text-transform: uppercase;
    }
    .x{
      width: 40px; height: 40px;
      border-radius: 14px;
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      user-select:none;
    }
    .x:active{ transform: translateY(1px); }

    .sheetBody{
      padding: 14px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    /* --- TELEGRAM POST PREVIEW (realistic) --- */
    .tgWrap{
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.28);
      overflow:hidden;
      position:relative;
    }
    .tgHeader{
      display:flex; align-items:center; gap:10px;
      padding: 12px 12px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .tgAva{
      width: 34px; height: 34px;
      border-radius: 12px;
      background:
        radial-gradient(10px 10px at 30% 30%, rgba(255,255,255,.9), transparent 55%),
        conic-gradient(from 210deg, var(--neonA), var(--neonB), var(--neonC), var(--neonA));
      box-shadow: 0 0 18px rgba(0,255,240,.18);
      flex: 0 0 auto;
    }
    .tgMeta{ display:flex; flex-direction:column; gap:2px; min-width:0; }
    .tgName{
      font-weight: 800;
      font-size: 13px;
      letter-spacing:.02em;
      overflow:hidden;
      white-space:nowrap;
      text-overflow:ellipsis;
    }
    .tgTime{
      font-size: 11px;
      color: rgba(184,169,255,.80);
    }
    .tgBadge{
      margin-left:auto;
      font-size: 11px;
      padding: 5px 8px;
      border-radius: 999px;
      border:1px solid rgba(0,255,240,.25);
      background: rgba(0,255,240,.08);
      color: rgba(0,255,240,.95);
      letter-spacing:.08em;
      text-transform: uppercase;
    }

    .tgMedia{
      position:relative;
      background: rgba(255,255,255,.05);
      border-bottom: 1px solid rgba(255,255,255,.08);
      overflow:hidden;
    }
    /* aspect ratio set via classes */
    .ar-9x16{ aspect-ratio: 9 / 16; }
    .ar-16x9{ aspect-ratio: 16 / 9; }
    .ar-1x1{ aspect-ratio: 1 / 1; }
    .ar-4x5{ aspect-ratio: 4 / 5; }
    .ar-circle{ aspect-ratio: 1 / 1; border-radius: 999px; margin: 12px auto; width: min(72%, 360px); border:1px solid rgba(255,255,255,.14); }

    .tgMediaBg{
      position:absolute; inset:-30%;
      background: linear-gradient(135deg, rgba(0,255,240,.14), rgba(255,45,255,.12)),
                  radial-gradient(280px 180px at 30% 30%, rgba(255,255,255,.12), transparent 60%),
                  radial-gradient(320px 220px at 70% 30%, rgba(255,204,0,.10), transparent 60%),
                  linear-gradient(135deg, rgba(0,0,0,.20), rgba(255,255,255,.05));
      transform: rotate(10deg);
      opacity:.9;
    }
    .tgMediaFx{
      position:absolute; inset:0;
      background: repeating-linear-gradient(to bottom, rgba(255,255,255,.05), rgba(255,255,255,.05) 1px, rgba(0,0,0,0) 5px, rgba(0,0,0,0) 8px);
      opacity:.22;
      mix-blend-mode: overlay;
      pointer-events:none;
    }
    .tgPlay{
      position:absolute; inset:0;
      display:grid; place-items:center;
      pointer-events:none;
    }
    .tgPlayBtn{
      width: 56px; height: 56px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
      display:grid; place-items:center;
      color: rgba(233,225,255,.95);
      font-weight: 900;
    }

    .tgBody{ padding: 12px 12px 10px; }
    .tgText{
      font-size: 14px;
      line-height: 1.35;
      color: rgba(233,225,255,.96);
      white-space: pre-wrap;
      word-break: break-word;
    }
    .tgText b{ font-weight: 900; }
    .tgText i{ opacity:.95; }

    .tgFooter{
      display:flex; gap:8px; flex-wrap:wrap;
      padding: 10px 12px 12px;
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .tgPill{
      font-size: 11px;
      padding: 6px 8px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(233,225,255,.92);
    }
    .tgCta{
      margin-left:auto;
      font-size: 12px;
      padding: 8px 10px;
      border-radius: 14px;
      border:1px solid rgba(0,255,240,.28);
      background: linear-gradient(180deg, rgba(0,255,240,.14), rgba(255,45,255,.10));
      color: rgba(233,225,255,.95);
      font-weight: 900;
      cursor:pointer;
      user-select:none;
      box-shadow: 0 0 18px rgba(0,255,240,.10);
    }
    .tgCta:active{ transform: translateY(1px); }

    /* style chips inside modal */
    .styleRow{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .sChip{
      font-size: 11px;
      padding: 7px 9px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.28);
      color: rgba(233,225,255,.92);
      cursor:pointer;
      user-select:none;
    }
    .sChip.active{
      border-color: rgba(0,255,240,.30);
      background: rgba(0,255,240,.10);
      box-shadow: 0 0 16px rgba(0,255,240,.12);
      color: rgba(0,255,240,.95);
    }

    /* text style variants (visual difference, like ‚Äúcopy of post‚Äù) */
    .style-pov .tgText{ font-size: 14px; letter-spacing: .01em; }
    .style-pov .tgText b{ text-shadow: 0 0 12px rgba(255,45,255,.15); }

    .style-insider .tgText{ font-size: 14px; line-height: 1.38; }
    .style-insider .tgText b{ color: rgba(255,204,0,.96); text-shadow: 0 0 16px rgba(255,204,0,.12); }

    .style-oldmoney .tgText{ font-size: 14px; line-height: 1.42; letter-spacing: .02em; }
    .style-oldmoney .tgText{ color: rgba(233,225,255,.94); }
    .style-oldmoney .tgText b{ letter-spacing: .06em; text-transform: uppercase; }

    .style-noir .tgText{ font-size: 14px; line-height: 1.40; }
    .style-noir .tgMediaBg{ filter: grayscale(1) contrast(1.2) brightness(.9); opacity:.85; }
    .style-noir .tgBadge{ border-color: rgba(255,255,255,.20); background: rgba(255,255,255,.08); color: rgba(233,225,255,.92); }

    .style-glow .tgText{ font-size: 14px; line-height: 1.36; }
    .style-glow .tgText b{ color: rgba(0,255,240,.96); text-shadow: 0 0 18px rgba(0,255,240,.15); }
    .style-glow .tgMediaBg{ opacity:.95; }

    .style-brutal .tgText{ font-size: 15px; line-height: 1.25; letter-spacing: .06em; }
    .style-brutal .tgText{ text-transform: uppercase; }
    .style-brutal .tgText b{ color: rgba(255,45,255,.95); text-shadow: 0 0 18px rgba(255,45,255,.12); }

    /* actions */
    .sheetActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .hint{
      font-size: 12px;
      color: rgba(184,169,255,.88);
      line-height: 1.3;
      margin:0;
    }

    /* bottom nav */
    .bottomNav{
      margin-top: 12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
      opacity:.95;
    }
    .small{ font-size:12px; color: rgba(184,169,255,.86); }

    /* mobile tweaks */
    @media (max-width: 420px){
      .brandTitle b{ font-size: 13px; }
      .hero{ padding: 12px; }
      .cardBody{ grid-template-columns: 1fr; }
      .sumText span{ max-width: 62vw; }
    }
  </style>
</head>

<body class="fx-scanlines fx-noise">
  <div class="wrap">
    <div class="top">
      <div class="brand" id="brandBtn" title="–û—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª/—á–∞—Ç CADRHUB">
        <div class="logo"></div>
        <div class="brandTitle">
          <b>CADRHUB</b>
          <span>Bangkok Cyberpunk ‚Ä¢ 2177 build</span>
        </div>
      </div>

      <div class="chipRow">
        <div class="chip" id="chipHall"><span class="dot"></span><span>–ó–∞–ª —Å–ª–∞–≤—ã</span></div>
        <div class="chip" id="chipGames"><span class="dot pink"></span><span>–ò–≥—Ä—ã</span></div>
        <div class="chip" id="chipPromo"><span class="dot gold"></span><span>–ê–∫—Ü–∏–∏</span></div>
      </div>
    </div>

    <!-- ticker -->
    <div class="ticker" id="tickerBox" style="display:none">
      <div class="tickerInner">
        <div class="tickerBadge"><span class="dot"></span><span>LIVE</span></div>
        <div class="marquee" id="marquee">
          <div class="tickerText" id="tickerTextA"></div>
          <div class="tickerText" id="tickerTextB"></div>
        </div>
        <div class="tickerHint">‚ö° –Ω–æ–≤–æ—Å—Ç–∏ / –∞–∫—Ü–∏–∏ / –ø—Ä–∏–∫–æ–ª—ã</div>
      </div>
    </div>

    <div class="hero">
      <div class="heroIn">
        <div class="preview" id="heroPreview">
          <div class="previewCanvas"></div>
          <div class="previewOverlay">
            <div class="pill">üìå –°–º–æ—Ç—Ä–∏ –ø—Ä–µ–≤—å—é –ø–æ—Å—Ç–∞</div>
            <div class="pill">üü£ –ø–æ—Ç–æ–º –∂–º–∏ ‚Äú–≤—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º‚Äù</div>
          </div>
        </div>

        <div class="heroRight">
          <h1 class="h1">–ü–æ–∫–∞–∑—ã–≤–∞–µ–º ‚Äú–∫–∞–∫ –±—É–¥–µ—Ç –≤ Telegram‚Äù</h1>
          <p class="sub">
            –¢—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å —Ä–µ–∂–∏–º ‚Äî –≤–∏–¥–∏—à—å <b>—Ä–µ–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø–æ—Å—Ç–∞</b> (—à—Ä–∏—Ñ—Ç, —Å—Ç–∏–ª—å, –º–µ–¥–∏–∞, –∫–Ω–æ–ø–∫–∏).
            –ü–æ—Ç–æ–º –≤—ã–±–∏—Ä–∞–µ—à—å —Ä–µ–∂–∏–º ‚Äî –∏ –±–æ—Ç –ø—Ä–æ—Å–∏—Ç —Ñ–∞–π–ª.
          </p>
          <div class="ctaRow">
            <div class="btn btnPrimary" id="btnRandom">
              <span>üé≤ –î–∞–π ‚Äú–≤–∞—É-–ø–∞–∫–µ—Ç‚Äù</span>
              <span class="kbd">rng</span>
            </div>
            <div class="btn btnGhost" id="btnHow">
              <span>‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
              <span class="kbd">tap</span>
            </div>
          </div>
          <p class="hint" id="hintLine">
            –í–∞–∂–Ω–æ: –º–∏–Ω–∏-–∞–ø–ø–∫–∞ = –≤–∏—Ç—Ä–∏–Ω–∞ + –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä. –ó–∞–≥—Ä—É–∑–∫–∞/—Ä–µ–Ω–¥–µ—Ä ‚Äî –≤ –±–æ—Ç–µ.
          </p>
        </div>
      </div>
    </div>

    <div class="grid" id="grid">
      <details class="card" open>
        <summary>
          <div class="sumLeft">
            <div class="icon"></div>
            <div class="sumText">
              <b>–ü–æ—Å—Ç—ã ‚Ä¢ —Å—Ç–∏–ª–∏ (6)</b>
              <span>–°–º–æ—Ç—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç, –∫–∞–∫ –æ–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å</span>
            </div>
          </div>
          <div class="sumRight">
            <span>6</span><div class="chev"></div>
          </div>
        </summary>
        <div class="cardBody" id="secPosts"></div>
      </details>

      <details class="card">
        <summary>
          <div class="sumLeft">
            <div class="icon"></div>
            <div class="sumText">
              <b>–ö–æ–ª–ª–∞–∂–∏ (3)</b>
              <span>–ü–æ–∫–∞–∂–µ–º –ø–æ—Å—Ç —Å –∫–æ–ª–ª–∞–∂-–º–µ–¥–∏–∞ –∏ CTA</span>
            </div>
          </div>
          <div class="sumRight">
            <span>3</span><div class="chev"></div>
          </div>
        </summary>
        <div class="cardBody" id="secCollage"></div>
      </details>

      <details class="card">
        <summary>
          <div class="sumLeft">
            <div class="icon"></div>
            <div class="sumText">
              <b>–°–µ—Ç–∫–∏ —ç–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ (3)</b>
              <span>–ü–∞–∫ —ç–º–æ–¥–∑–∏ + –ø–æ—Å—Ç, –∫–∞–∫ ‚Äú–¥–æ—Ä–æ–≥–∞—è —É–ø–∞–∫–æ–≤–∫–∞‚Äù</span>
            </div>
          </div>
          <div class="sumRight">
            <span>3</span><div class="chev"></div>
          </div>
        </summary>
        <div class="cardBody" id="secEmoji"></div>
      </details>

      <details class="card">
        <summary>
          <div class="sumLeft">
            <div class="icon"></div>
            <div class="sumText">
              <b>–ò–∑ –≤–∏–¥–µ–æ (7)</b>
              <span>9:16 / 16:9 / –∫—Ä—É–∂–æ–∫ / –∞–≤–∞—Ç–∞—Ä / —ç—Ñ—Ñ–µ–∫—Ç—ã</span>
            </div>
          </div>
          <div class="sumRight">
            <span>7</span><div class="chev"></div>
          </div>
        </summary>
        <div class="cardBody" id="secVideo"></div>
      </details>
    </div>

    <div class="bottomNav">
      <div class="small" id="smallStatus">‚ö° –ù–∞–∂–º–∏ –∫–∞—Ä—Ç–æ—á–∫—É ‚ûú —É–≤–∏–¥–∏—à—å —Ä–µ–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø–æ—Å—Ç–∞.</div>
      <div class="chip" id="btnBack"><span class="dot"></span><span>Back</span></div>
    </div>
  </div>

  <!-- modal -->
  <div class="modal" id="modal">
    <div class="sheet">
      <div class="sheetTop">
        <b id="modalTitle">Preview</b>
        <div class="x" id="modalClose">‚úï</div>
      </div>

      <div class="sheetBody">
        <!-- style toggles -->
        <div class="styleRow" id="styleRow"></div>

        <!-- Telegram-like post preview -->
        <div class="tgWrap" id="tgWrap">
          <div class="tgHeader">
            <div class="tgAva"></div>
            <div class="tgMeta">
              <div class="tgName" id="tgName">CADRHUB ‚Ä¢ Studio</div>
              <div class="tgTime" id="tgTime">—Å–µ–π—á–∞—Å ‚Ä¢ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</div>
            </div>
            <div class="tgBadge" id="tgBadge">PREVIEW</div>
          </div>

          <div class="tgMedia" id="tgMediaBox">
            <div class="tgMediaBg" id="tgMediaBg"></div>
            <div class="tgMediaFx"></div>
            <div class="tgPlay"><div class="tgPlayBtn">‚ñ∂</div></div>
          </div>

          <div class="tgBody">
            <div class="tgText" id="tgText"></div>
          </div>

          <div class="tgFooter" id="tgFooter">
            <div class="tgPill" id="pill1">üü£ –∫—Ä—É–∂–æ–∫</div>
            <div class="tgPill" id="pill2">üé≠ –∞–≤–∞—Ç–∞—Ä</div>
            <div class="tgPill" id="pill3">üß© —ç–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ</div>
            <div class="tgPill" id="pill4">üìù –ø–æ—Å—Ç</div>
            <div class="tgPill" id="pill5">üß± –∫–æ–ª–ª–∞–∂</div>
            <div class="tgCta" id="tgCta">–ó–∞–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç</div>
          </div>
        </div>

        <div class="sheetActions">
          <div class="btn btnPrimary" id="btnPick">‚úÖ –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º</div>
          <div class="btn btnGhost" id="btnCopy">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç</div>
          <div class="btn btnGhost" id="btnMore">‚ú® –ü—Ä–µ–¥–ª–æ–∂–∏ –µ—â—ë</div>
        </div>

        <p class="hint" id="modalHint">
          –ó–¥–µ—Å—å —Ç—ã –≤–∏–¥–∏—à—å ‚Äú–∫–∞–∫ –±—É–¥–µ—Ç –≤ Telegram‚Äù. –ü–æ—Å–ª–µ ‚Äú–í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º‚Äù –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç —Ñ–∞–π–ª.
        </p>
      </div>
    </div>
  </div>

  <script>
    const tg = window.Telegram?.WebApp;
    try{ tg?.ready(); tg?.expand(); } catch(e){}

    function getParam(name){
      const u = new URL(location.href);
      return u.searchParams.get(name) || "";
    }

    // brand click
    let brandLink = getParam("brand") || "";
    document.getElementById("brandBtn").addEventListener("click", ()=>{
      if (brandLink) window.open(brandLink, "_blank");
      else toast("–î–∞–π —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/—á–∞—Ç ‚Äî —Å–¥–µ–ª–∞—é –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º ‚úÖ");
    });

    // ticker (admin -> bot appends ?ticker=...)
    const tickerBox = document.getElementById("tickerBox");
    const tickerParam = decodeURIComponent(getParam("ticker") || "").trim();
    if (tickerParam){
      tickerBox.style.display = "block";
      document.getElementById("tickerTextA").textContent = tickerParam;
      document.getElementById("tickerTextB").textContent = tickerParam;
    } else {
      const fun = [
        "–ü—Ä–∞–∑–¥–Ω–∏–∫ —Å–∫–æ—Ä–æ: –µ—Å–ª–∏ Telegram –¥–∞—Å—Ç –Ω–∞–º 1000 –∑–≤—ë–∑–¥ ‚Äî –º—ã –¥–∞–¥–∏–º –≤–∞–º VIP üòÑ",
        "–ö—Ä—É–∂–æ–∫ ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –≤–∞–ª—é—Ç–∞. CADRHUB –ø–µ—á–∞—Ç–∞–µ—Ç –¥–µ–Ω—å–≥–∏ üü£",
        "–°–µ–∫—Ä–µ—Ç: —ç–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ = —É–¥–µ—Ä–∂–∞–Ω–∏–µ. –ù–∞–∑—ã–≤–∞–π —ç—Ç–æ –º–∞–≥–∏–µ–π ‚ú®",
        "–ê–¥–º–∏–Ω –Ω–∞ –º–∏–Ω—É—Ç—É –æ—Ç–≤–ª—ë–∫—Å—è ‚Äî –∏ –≤—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –±—ã—Å—Ç—Ä–µ–µ SMM-–æ—Ç–¥–µ–ª–∞ üòé",
        "–ï—Å–ª–∏ –≤–∏–¥–∏—à—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É ‚Äî –∑–Ω–∞—á–∏—Ç —Å–µ–≥–æ–¥–Ω—è –∫—Ç–æ-—Ç–æ –ø–æ–π–º–∞–µ—Ç –±–æ–Ω—É—Å üéÅ"
      ];
      const chosen = fun[Math.floor(Math.random()*fun.length)];
      tickerBox.style.display = "block";
      document.getElementById("tickerTextA").textContent = chosen;
      document.getElementById("tickerTextB").textContent = chosen;
    }

    // DATA: each card opens preview post with style + aspect
    const STYLES = [
      { id:"pov",    label:"POV",      cls:"style-pov" },
      { id:"ins",    label:"INSIDER",  cls:"style-insider" },
      { id:"old",    label:"OLD$",     cls:"style-oldmoney" },
      { id:"noir",   label:"NOIR",     cls:"style-noir" },
      { id:"glow",   label:"GLOW",     cls:"style-glow" },
      { id:"brut",   label:"BRUTAL",   cls:"style-brutal" },
    ];

    const MODES = {
      posts: [
        { key:"style_pov", title:"POV ‚Ä¢ –¥–µ—Ä–∑–∫–∏–π", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "POV: —Ç—ã –∑–∞—Ö–æ–¥–∏—à—å –≤ Telegram ‚Äî –∏ –æ–Ω —É–∂–µ –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ—Ä–æ–∂–µ.",
            "",
            "‚ö°Ô∏è <b>–ö—Ä—É–∂–æ–∫</b> –≥–æ—Ç–æ–≤",
            "üß© <b>–≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ</b> –≥–æ—Ç–æ–≤–æ",
            "üé≠ <b>–ê–≤–∞—Ç–∞—Ä</b> ‚Äî –∫–∞–∫ —É —Ç–æ–ø–æ–≤",
            "",
            "–•–æ—á–µ—à—å —Ç–∞–∫ –∂–µ? –ñ–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá"
          ]},
        { key:"style_insider", title:"–ò–Ω—Å–∞–π–¥–µ—Ä ‚Ä¢ —Ö–∞–π–ø", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "–°–ª–∏–≤–∞—é —Å—Ö–µ–º—É, –∫–æ—Ç–æ—Ä—É—é —Ä–µ–∞–ª—å–Ω–æ —é–∑–∞—é—Ç –∞–¥–º–∏–Ω—ã üíÖ",
            "",
            "1) –í–∏–¥–µ–æ ‚Üí CADRHUB",
            "2) –ü–æ–ª—É—á–∞–µ—à—å <b>–∫—Ä—É–∂–æ–∫ + —ç–º–æ–¥–∑–∏-–ø–∞–∫</b>",
            "3) –ü–æ—Å—Ç —É–∂–µ –≥–æ—Ç–æ–≤",
            "",
            "‚ö°Ô∏è –ö—Ç–æ –≤–ª–µ—Ç–∞–µ—Ç —Å–µ–≥–æ–¥–Ω—è ‚Äî –∑–∞–±–∏—Ä–∞–µ—Ç –±–æ–Ω—É—Å."
          ]},
        { key:"style_oldmoney", title:"Old Money ‚Ä¢ —ç–ª–∏—Ç–Ω–æ", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "<b>–ú–ò–ù–ò–ú–ê–õ–ò–ó–ú. –°–ö–û–†–û–°–¢–¨. –ö–ê–ß–ï–°–¢–í–û.</b>",
            "",
            "‚Ä¢ –ö—Ä—É–∂–æ–∫ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π",
            "‚Ä¢ –ê–≤–∞—Ç–∞—Ä ‚Äî —á–∏—Å—Ç—ã–π",
            "‚Ä¢ –≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ ‚Äî –ø—Ä–µ–º–∏—É–º",
            "",
            "–û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ª–∏—à–Ω–µ–µ."
          ]},
        { key:"style_noir", title:"Noir ‚Ä¢ –∫–∏–Ω–æ", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "<i>–ì–æ—Ä–æ–¥ —à—É–º–∏—Ç. –≠–∫—Ä–∞–Ω —Å–≤–µ—Ç–∏—Ç—Å—è.</i>",
            "",
            "–¢—ã –Ω–∞–∂–∏–º–∞–µ—à—å ‚Äú–°–¥–µ–ª–∞—Ç—å –∫—Ä—É–∂–æ–∫‚Äù ‚Äî –∏ –ø–æ–ª—É—á–∞–µ—à—å –∫–∏–Ω–æ.",
            "",
            "üñ§ Noir-—Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω."
          ]},
        { key:"style_glow", title:"Glow ‚Ä¢ –º–∏–ª–æ+–Ω–µ–æ–Ω", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "–°–µ–≥–æ–¥–Ω—è –¥–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ ‚ú®",
            "",
            "üé• –í–∏–¥–µ–æ ‚Üí <b>–∫—Ä—É–∂–æ–∫</b>",
            "üé≠ –ê–≤–∞—Ç–∞—Ä ‚Üí <b>–≥–æ—Ç–æ–≤</b>",
            "üß© –≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ ‚Üí <b>–≤–∞—É</b>",
            "",
            "–°–æ—Ö—Ä–∞–Ω–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å üíú"
          ]},
        { key:"style_brutal", title:"BRUTAL ‚Ä¢ –∫–æ—Ä–æ—Ç–∫–æ", tag:"–ü–û–°–¢", aspect:"ar-4x5",
          baseText:[
            "<b>–ö–†–£–ñ–û–ö.</b>",
            "<b>–ê–í–ê–¢–ê–†.</b>",
            "<b>–≠–ú–û–î–ó–ò-–ü–ê–ö.</b>",
            "",
            "–°–î–ï–õ–ê–ù–û.",
            "",
            "–•–û–ß–ï–®–¨? ‚Üí –ñ–ú–ò."
          ]},
      ],
      collage: [
        { key:"collage_grid", title:"–ö–æ–ª–ª–∞–∂ ‚Ä¢ 2√ó2", tag:"–ö–û–õ–õ–ê–ñ", aspect:"ar-16x9",
          baseText:[
            "<b>–ö–æ–ª–ª–∞–∂ 2√ó2</b> ‚Äî —á—Ç–æ–±—ã –∑—Ä–∏—Ç–µ–ª—å –ø–æ–Ω—è–ª –≤—Å—ë –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É.",
            "",
            "üß± –í–∏–¥–µ–æ+—Ñ–æ—Ç–æ –≤ —Å–µ—Ç–∫–µ",
            "üìù –ü–æ—Å—Ç —Å CTA",
            "",
            "–ù–∞–∂–º–∏ ‚Äú–ó–∞–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç‚Äù üëá"
          ]},
        { key:"collage_story", title:"–ö–æ–ª–ª–∞–∂ ‚Ä¢ Story", tag:"–ö–û–õ–õ–ê–ñ", aspect:"ar-9x16",
          baseText:[
            "<b>Story-–∫–æ–ª–ª–∞–∂</b> ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ø–æ–¥–∞—á–∞, –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–Ω–∏–º–∞–Ω–∏—è.",
            "",
            "‚Ä¢ —Ç–∏—Ç—Ä",
            "‚Ä¢ –≤–∏–¥–µ–æ-–∫–∞–¥—Ä",
            "‚Ä¢ –¥–µ—Ç–∞–ª–∏",
            "",
            "‚ö°Ô∏è –°–¥–µ–ª–∞–µ–º –∏–∑ —Ç–≤–æ–µ–≥–æ –≤–∏–¥–µ–æ."
          ]},
        { key:"collage_brand", title:"–ö–æ–ª–ª–∞–∂ ‚Ä¢ Brand", tag:"–ö–û–õ–õ–ê–ñ", aspect:"ar-16x9",
          baseText:[
            "<b>Brand-–∫–æ–ª–ª–∞–∂</b> ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ.",
            "",
            "–õ–æ–≥–æ + –∫–∞–¥—Ä + –∫–Ω–æ–ø–∫–∞ + —Ç–µ–∫—Å—Ç",
            "",
            "üíé –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —É –±–æ–ª—å—à–∏—Ö –±—Ä–µ–Ω–¥–æ–≤."
          ]},
      ],
      emoji: [
        { key:"grid_3x3", title:"–≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ ‚Ä¢ 3√ó3", tag:"EMOJI", aspect:"ar-1x1",
          baseText:[
            "<b>–ü–∞–∫ 3√ó3</b> = 9 —ç–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ.",
            "",
            "–°–º–æ—Ç—Ä–∏—Ç—Å—è –∫–∞–∫ ‚Äú–¥–æ—Ä–æ–≥–∞—è —É–ø–∞–∫–æ–≤–∫–∞‚Äù.",
            "",
            "–ö —ç—Ç–æ–º—É ‚Äî –ø–æ—Å—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ."
          ]},
        { key:"grid_20x1", title:"–≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ ‚Ä¢ 20√ó1", tag:"EMOJI", aspect:"ar-16x9",
          baseText:[
            "<b>–¢–∞–π–º–ª–∞–π–Ω-–ø–∞–∫ 20√ó1</b> (–ø–æ 3 —Å–µ–∫).",
            "",
            "–≠—Ç–æ —Ç–æ—Ç —Å–∞–º—ã–π —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª—é–¥–∏ –ø–µ—Ä–µ—Å—ã–ª–∞—é—Ç –¥—Ä—É–∑—å—è–º.",
            "",
            "‚ö°Ô∏è –ü–ª—é—Å–æ–º: –ø–æ—Å—Ç + –∫—Ä—É–∂–æ–∫/–∞–≤–∞—Ç–∞—Ä (–ø–æ –ø–∞–∫–µ—Ç—É)."
          ]},
        { key:"grid_strip", title:"–≠–º–æ–¥–∑–∏-–≤–∏–¥–µ–æ ‚Ä¢ 1√ó6", tag:"EMOJI", aspect:"ar-16x9",
          baseText:[
            "<b>–ú–∏–Ω–∏-–ø–∞–∫ 1√ó6</b> ‚Äî –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞ –≤–∫—É—Å.",
            "",
            "–ü–æ—Ç–æ–º –∑–∞—Ö–æ—á–µ—à—å 20√ó1 ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ üòÑ"
          ]},
      ],
      video: [
        { key:"circle", title:"–ö—Ä—É–∂–æ–∫ ‚Ä¢ Live", tag:"VIDEO", aspect:"ar-circle",
          baseText:[
            "<b>–ö–†–£–ñ–û–ö</b> ‚Äî —É–¥–µ—Ä–∂–∞–Ω–∏–µ 10/10.",
            "",
            "–õ—é–¥–∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∫—Ä—É–∂–∫–∏ —á–∞—â–µ, —á–µ–º –Ω–∞ –æ–±—ã—á–Ω—ã–µ –≤–∏–¥–µ–æ.",
            "",
            "–î–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ. –ë–µ–∑ –º—ã–ª–∞. –ë–µ–∑ –±–æ–ª–∏."
          ]},
        { key:"avatar", title:"–í–∏–¥–µ–æ-–∞–≤–∞—Ç–∞—Ä", tag:"VIDEO", aspect:"ar-1x1",
          baseText:[
            "<b>–í–∏–¥–µ–æ-–∞–≤–∞—Ç–∞—Ä</b> ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ ‚Äú–¥–æ—Ä–æ–≥–æ‚Äù –¥–∞–∂–µ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–æ–π –∏–∫–æ–Ω–∫–µ.",
            "",
            "–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–Ω–∞–ª–∞/–ø—Ä–æ—Ñ–∏–ª—è."
          ]},
        { key:"9_16", title:"–í–µ—Ä—Ç–∏–∫–∞–ª ‚Ä¢ 9:16", tag:"VIDEO", aspect:"ar-9x16",
          baseText:[
            "<b>9:16</b> ‚Äî —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª—é–¥–∏ –¥–æ—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç.",
            "",
            "–ü–ª—é—Å–æ–º –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç –≤ —Å—Ç–∏–ª–µ POV/Insider."
          ]},
        { key:"16_9", title:"–ì–æ—Ä–∏–∑–æ–Ω—Ç ‚Ä¢ 16:9", tag:"VIDEO", aspect:"ar-16x9",
          baseText:[
            "<b>16:9</b> ‚Äî –¥–ª—è –æ–±–∑–æ—Ä–æ–≤, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, YouTube-–ø–æ–¥–∞—á–∏.",
            "",
            "–ò–¥—ë—Ç —Å –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∏ CTA."
          ]},
        { key:"fx_noir", title:"FX ‚Ä¢ Noir", tag:"FX", aspect:"ar-16x9",
          baseText:[
            "<b>Noir</b> ‚Äî –∫–æ–≥–¥–∞ —Ö–æ—á–µ—à—å –∫–∏–Ω–æ-–∞—Ç–º–æ—Å—Ñ–µ—Ä—É.",
            "",
            "–ß—ë—Ä–Ω–æ-–±–µ–ª–æ–µ + –∫–æ–Ω—Ç—Ä–∞—Å—Ç + –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ."
          ]},
        { key:"fx_boomerang", title:"FX ‚Ä¢ Boomerang", tag:"FX", aspect:"ar-1x1",
          baseText:[
            "<b>Boomerang</b> ‚Äî –ø–µ—Ç–ª—è/—Ä–µ–≤–µ—Ä—Å.",
            "",
            "–í–∏—Ä–∞–ª—å–Ω–∞—è —à—Ç—É–∫–∞ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π."
          ]},
        { key:"fx_audio", title:"Audio ‚Ä¢ mp3", tag:"AUDIO", aspect:"ar-16x9",
          baseText:[
            "<b>MP3</b> ‚Äî –≤—ã—Ç–∞—â–∏–º –∑–≤—É–∫ –∏–∑ –≤–∏–¥–µ–æ.",
            "",
            "–ì–æ–ª–æ—Å/–º—É–∑—ã–∫–∞/—ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ."
          ]},
      ]
    };

    function mkItem(obj){
      const d = document.createElement("div");
      d.className = "item";
      d.innerHTML = `
        <div class="itemIn">
          <div class="tag">${escapeHtml(obj.tag)}</div>
          <b>${escapeHtml(obj.title)}</b>
          <span>–û—Ç–∫—Ä–æ–π ‚Äî —É–≤–∏–¥–∏—à—å –≥–æ—Ç–æ–≤—ã–π –ø–æ—Å—Ç –≤ Telegram</span>
        </div>
      `;
      d.addEventListener("click", ()=> openPreview(obj));
      return d;
    }

    function mount(id, arr){
      const root = document.getElementById(id);
      root.innerHTML = "";
      arr.forEach(x => root.appendChild(mkItem(x)));
    }

    mount("secPosts", MODES.posts);
    mount("secCollage", MODES.collage);
    mount("secEmoji", MODES.emoji);
    mount("secVideo", MODES.video);

    // modal refs
    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const styleRow = document.getElementById("styleRow");
    const tgWrap = document.getElementById("tgWrap");
    const tgBadge = document.getElementById("tgBadge");
    const tgText = document.getElementById("tgText");
    const tgMediaBox = document.getElementById("tgMediaBox");
    const smallStatus = document.getElementById("smallStatus");

    const btnPick = document.getElementById("btnPick");
    const btnCopy = document.getElementById("btnCopy");
    const btnMore = document.getElementById("btnMore");

    let current = null;
    let currentStyle = "pov";

    // style chips in modal
    function renderStyleChips(){
      styleRow.innerHTML = "";
      STYLES.forEach(s=>{
        const b = document.createElement("div");
        b.className = "sChip" + (s.id === currentStyle ? " active" : "");
        b.textContent = s.label;
        b.addEventListener("click", ()=>{
          currentStyle = s.id;
          applyStyle();
          renderStyleChips();
        });
        styleRow.appendChild(b);
      });
    }

    function applyStyle(){
      tgWrap.classList.remove(...STYLES.map(x=>x.cls));
      const st = STYLES.find(x=>x.id===currentStyle) || STYLES[0];
      tgWrap.classList.add(st.cls);
    }

    function setAspect(cls){
      tgMediaBox.className = "tgMedia " + cls;
    }

    function setFooterPills(byModeKey){
      // show/hide pills depending on mode (so it feels ‚Äúreal‚Äù)
      const p = {
        pill1: document.getElementById("pill1"),
        pill2: document.getElementById("pill2"),
        pill3: document.getElementById("pill3"),
        pill4: document.getElementById("pill4"),
        pill5: document.getElementById("pill5"),
      };

      // defaults (full pack)
      let show = { pill1:true, pill2:true, pill3:true, pill4:true, pill5:true };

      if (byModeKey.startsWith("style_")) { show = { pill1:true, pill2:true, pill3:true, pill4:true, pill5:false }; }
      if (byModeKey.startsWith("grid_"))  { show = { pill1:false, pill2:false, pill3:true, pill4:true, pill5:false }; }
      if (byModeKey.startsWith("collage")){ show = { pill1:false, pill2:false, pill3:false, pill4:true, pill5:true }; }
      if (byModeKey === "circle")         { show = { pill1:true, pill2:false, pill3:false, pill4:true, pill5:false }; }
      if (byModeKey === "avatar")         { show = { pill1:false, pill2:true, pill3:false, pill4:true, pill5:false }; }
      if (byModeKey === "fx_audio")       { show = { pill1:false, pill2:false, pill3:false, pill4:true, pill5:false }; }

      Object.keys(p).forEach(k=>{
        p[k].style.display = show[k] ? "inline-flex" : "none";
      });
    }

    function openPreview(obj){
      current = obj;

      // pick a style automatically for non-post modes
      if (obj.key.startsWith("style_")) currentStyle = obj.key.replace("style_","").slice(0,3) === "old" ? "old" : (obj.key.includes("insider")?"ins":"pov");
      // keep whatever user last chose otherwise

      modalTitle.textContent = obj.title;
      tgBadge.textContent = obj.tag;

      // text content rendered like Telegram (bold/italic already inside strings)
      tgText.innerHTML = obj.baseText.map(x=>escapeHtmlKeepTags(x)).join("\n");

      setAspect(obj.aspect || "ar-4x5");
      setFooterPills(obj.key);

      renderStyleChips();
      applyStyle();

      modal.classList.add("show");
      smallStatus.textContent = "üëÄ –°–µ–π—á–∞—Å —Ç—ã –≤–∏–¥–∏—à—å –≥–æ—Ç–æ–≤—ã–π –≤–∏–¥ –ø–æ—Å—Ç–∞ –≤ Telegram (—à—Ä–∏—Ñ—Ç/—Å—Ç–∏–ª—å/–º–µ–¥–∏–∞).";

      try{ tg?.HapticFeedback?.impactOccurred("light"); } catch(e){}
    }

    function closeModal(){
      modal.classList.remove("show");
      try{ tg?.HapticFeedback?.impactOccurred("soft"); } catch(e){}
    }

    document.getElementById("modalClose").addEventListener("click", closeModal);
    modal.addEventListener("click", (e)=>{ if(e.target === modal) closeModal(); });

    // choose mode -> send to bot
    btnPick.addEventListener("click", ()=>{
      if(!current) return;
      const payload = {
        type: "video_setup",
        mode: current.key,
        style: currentStyle, // bot can ignore if not needed now
      };
      try{ tg?.sendData(JSON.stringify(payload)); } catch(e){}
      toast("‚úÖ –†–µ–∂–∏–º –≤—ã–±—Ä–∞–Ω. –¢–µ–ø–µ—Ä—å –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç —Ñ–∞–π–ª.");
    });

    // copy post text (plain, without html tags)
    btnCopy.addEventListener("click", async ()=>{
      if(!current) return;
      const plain = current.baseText.join("\n")
        .replaceAll("<b>","").replaceAll("</b>","")
        .replaceAll("<i>","").replaceAll("</i>","");
      try{
        await navigator.clipboard.writeText(plain);
        toast("üìã –ü–æ—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω");
      } catch(e){
        toast("–ù–µ —Å–º–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å (–±—Ä–∞—É–∑–µ—Ä). –ù–æ —Ç–µ–∫—Å—Ç –≤–∏–¥–µ–Ω.");
      }
    });

    btnMore.addEventListener("click", ()=>{
      const pack = rngPack();
      toast("‚ú® –ü–∞–∫–µ—Ç: " + pack.map(x=>x.title).join(" + "));
      openPreview(pack[0]);
    });

    // top chips
    document.getElementById("chipHall").addEventListener("click", ()=> toast("üèÜ –ó–∞–ª —Å–ª–∞–≤—ã: —Ç–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∫–æ—Ä–æ (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü)."));
    document.getElementById("chipGames").addEventListener("click", ()=> toast("üé∞ –†—É–ª–µ—Ç–∫–∞ —Å ZERO —Å–∫–æ—Ä–æ (VIP/–±–æ–Ω—É—Å—ã)."));
    document.getElementById("chipPromo").addEventListener("click", ()=> toast("üí• –ê–∫—Ü–∏–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –∞–¥–º–∏–Ω–æ–º. –°–º–æ—Ç—Ä–∏ –±–µ–≥—É—â—É—é —Å—Ç—Ä–æ–∫—É."));

    // buttons
    document.getElementById("btnRandom").addEventListener("click", ()=>{
      const pack = rngPack();
      openPreview(pack[0]);
      toast("üé≤ –†–∞–Ω–¥–æ–º-–ø–∞–∫: " + pack.map(x=>x.title).join(" + "));
    });
    document.getElementById("btnHow").addEventListener("click", ()=>{
      toast("–°—Ö–µ–º–∞: –æ—Ç–∫—Ä—ã–ª —Ä–µ–∂–∏–º ‚ûú —É–≤–∏–¥–µ–ª —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Å—Ç ‚ûú –≤—ã–±—Ä–∞–ª ‚ûú –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏–ª —Ñ–∞–π–ª.");
    });

    // back
    document.getElementById("btnBack").addEventListener("click", ()=>{
      try{ tg?.close(); } catch(e){ history.back(); }
    });

    // random pack
    function rng(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
    function rngPack(){
      const pickVideo = rng(MODES.video);
      const pickEmoji = rng(MODES.emoji);
      const pickPost  = rng(MODES.posts);
      const pickColl  = rng(MODES.collage);
      const pack = [pickVideo, pickEmoji, pickPost];
      if (Math.random() > 0.55) pack.push(pickColl);
      return pack;
    }

    // toast
    let toastTimer = null;
    function toast(text){
      clearTimeout(toastTimer);
      let t = document.getElementById("toast");
      if(!t){
        t = document.createElement("div");
        t.id = "toast";
        t.style.position="fixed";
        t.style.left="50%";
        t.style.bottom="calc(env(safe-area-inset-bottom) + 18px)";
        t.style.transform="translateX(-50%)";
        t.style.padding="10px 12px";
        t.style.border="1px solid rgba(255,255,255,.16)";
        t.style.background="rgba(0,0,0,.55)";
        t.style.backdropFilter="blur(12px)";
        t.style.borderRadius="999px";
        t.style.color="rgba(233,225,255,.95)";
        t.style.fontSize="13px";
        t.style.boxShadow="0 20px 60px rgba(0,0,0,.55)";
        t.style.zIndex="99";
        document.body.appendChild(t);
      }
      t.textContent = text;
      t.style.opacity="1";
      toastTimer = setTimeout(()=>{ t.style.opacity="0"; }, 2600);
    }

    // safe escaping: allow <b> <i> only (for preview)
    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
    function escapeHtmlKeepTags(s){
      // escape everything, then restore &lt;b&gt; &lt;/b&gt; &lt;i&gt; &lt;/i&gt;
      let x = escapeHtml(String(s));
      x = x.replaceAll("&lt;b&gt;","<b>").replaceAll("&lt;/b&gt;","</b>");
      x = x.replaceAll("&lt;i&gt;","<i>").replaceAll("&lt;/i&gt;","</i>");
      return x;
    }
  </script>
</body>
</html>
